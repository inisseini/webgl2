{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\issei\\\\Desktop\\\\dev-webGL-exhibition\\\\exhibition\\\\src\\\\Car.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useMemo, useState, useRef, Children } from \"react\";\nimport { applyProps, useThree } from \"@react-three/fiber\";\nimport { useGLTF, useAnimations, PresentationControls, Html } from \"@react-three/drei\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Car = props => {\n  _s();\n  const {\n    scene,\n    nodes,\n    materials,\n    animations\n  } = useGLTF('Base.glb');\n  const tire1 = useGLTF('VLEAP_Car_Tire1.glb');\n  const tire2 = useGLTF('VLEAP_Car_Tire2.glb');\n  const doorAnim = useAnimations(animations, scene);\n  const doorAction = doorAnim.actions[doorAnim.names[0]];\n  doorAnim.mixer._actions[0].repetitions = 1;\n  doorAction.paused = true;\n  useEffect(() => {\n    doorAction.paused = false;\n    doorAnim.mixer.setTime(props.doorAnim / 50);\n    doorAction.play();\n    doorAction.paused = true;\n  }, [props.doorAnim]);\n  const tireAnim = useAnimations(tire1.animations, tire1.scene);\n  const tireAction = tireAnim.actions[tireAnim.names[0]];\n  tireAnim.mixer._actions[0].repetitions = 1;\n  tireAction.paused = true;\n  useEffect(() => {\n    console.log(props.tireAnimTime);\n    tireAction.paused = false;\n    tireAnim.mixer.setTime(props.tireAnimTime / 100);\n    tireAction.play();\n    tireAction.paused = true;\n  }, [props.tireAnimTime]);\n  applyProps(materials.CarMaincolor, {\n    roughness: 0.1,\n    metalness: 0.5,\n    color: props.colorDetail,\n    envMapIntensity: 1\n  });\n  useEffect(() => {\n    if (props.light) {\n      applyProps(materials.FlontLightGlass, {\n        color: 'white',\n        roughness: 0,\n        envMapIntensity: 100,\n        metalness: 1\n      });\n    } else {\n      applyProps(materials.FlontLightGlass, {\n        color: 'black',\n        roughness: 0,\n        envMapIntensity: 2,\n        metalness: 0\n      });\n    }\n  }, [props.light]);\n  useMemo(() => {\n    Object.values(nodes).forEach(node => node.isMesh && (node.receiveShadow = node.castShadow = true));\n    //applyProps(tire1.materials.tyre, { color: '#000', roughness: 0.3, roughnessMap: null, normalScale: [4, 4] })\n    applyProps(materials.GLASS, {\n      color: '#fff',\n      roughness: 0,\n      clearcoat: 0.9\n    });\n    applyProps(materials.FlontLightGlass, {\n      color: '#ffffe0',\n      roughness: 0,\n      clearcoat: 1\n    });\n    applyProps(materials.FrontLightWhite, {\n      color: '#ff7f50',\n      roughness: 0,\n      clearcoat: 1,\n      envMapIntensity: 1\n    });\n    applyProps(materials.BackLED, {\n      color: 'red',\n      roughness: 0,\n      envMapIntensity: 1,\n      metalness: 0\n    });\n    applyProps(materials.BackBlackGlass, {\n      color: 'red',\n      roughness: 0,\n      clearcoat: 0.6\n    });\n    applyProps(materials.CarMaincolor, {\n      roughness: 0.1,\n      metalness: 0.5,\n      color: props.carColor,\n      envMapIntensity: 1\n    });\n  }, [nodes, materials]);\n  return /*#__PURE__*/_jsxDEV(PresentationControls, {\n    cursor: true,\n    snap: false,\n    children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: scene,\n      ...props,\n      dispose: null,\n      position: props.position,\n      rotation: props.rotation,\n      scale: [1, 1, 1],\n      className: \"aaa\",\n      children: props.animation ? /*#__PURE__*/_jsxDEV(Html, {\n        transform: true,\n        className: \"animationDot\",\n        zIndexRange: [100000000000000, 0],\n        position: [1, 1.2, -0.75],\n        rotation: [0, 1.5, 0],\n        calculatePosition: [0, 0, 0],\n        occlude: true,\n        onClick: () => console.log('aa')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this) : undefined\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"primitive\", {\n      object: props.tire == 2 ? tire2.scene : tire1.scene,\n      ...props,\n      dispose: null,\n      position: props.position,\n      rotation: props.rotation,\n      scale: [1, 1, 1]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(Car, \"rK9OACT/7VkpJvdShDFrUIcg+sw=\", false, function () {\n  return [useGLTF, useGLTF, useGLTF, useAnimations, useAnimations];\n});\n_c = Car;\nexport default Car;\nvar _c;\n$RefreshReg$(_c, \"Car\");","map":{"version":3,"names":["useEffect","useMemo","useState","useRef","Children","applyProps","useThree","useGLTF","useAnimations","PresentationControls","Html","Car","props","scene","nodes","materials","animations","tire1","tire2","doorAnim","doorAction","actions","names","mixer","_actions","repetitions","paused","setTime","play","tireAnim","tireAction","console","log","tireAnimTime","CarMaincolor","roughness","metalness","color","colorDetail","envMapIntensity","light","FlontLightGlass","Object","values","forEach","node","isMesh","receiveShadow","castShadow","GLASS","clearcoat","FrontLightWhite","BackLED","BackBlackGlass","carColor","position","rotation","animation","undefined","tire"],"sources":["C:/Users/issei/Desktop/dev-webGL-exhibition/exhibition/src/Car.js"],"sourcesContent":["import { useEffect, useMemo, useState, useRef, Children } from \"react\";\r\nimport { applyProps, useThree } from \"@react-three/fiber\";\r\nimport { useGLTF, useAnimations, PresentationControls, Html} from \"@react-three/drei\";\r\n  \r\nconst Car = (props) => {\r\n  const { scene, nodes, materials, animations } = useGLTF('Base.glb');\r\n  const tire1 = useGLTF('VLEAP_Car_Tire1.glb');\r\n  const tire2 = useGLTF('VLEAP_Car_Tire2.glb');\r\n\r\n  const doorAnim = useAnimations(animations, scene);\r\n  const doorAction = doorAnim.actions[doorAnim.names[0]];  \r\n  doorAnim.mixer._actions[0].repetitions = 1;\r\n  doorAction.paused = true; \r\n\r\n\r\n  useEffect(() => {\r\n    doorAction.paused = false;\r\n    doorAnim.mixer.setTime(props.doorAnim / 50);\r\n    doorAction.play();\r\n    doorAction.paused = true;\r\n  }, [props.doorAnim])\r\n\r\n  const tireAnim = useAnimations(tire1.animations, tire1.scene);\r\n  const tireAction = tireAnim.actions[tireAnim.names[0]];  \r\n  tireAnim.mixer._actions[0].repetitions = 1;\r\n  tireAction.paused = true;\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(props.tireAnimTime);\r\n    tireAction.paused = false;\r\n    tireAnim.mixer.setTime(props.tireAnimTime/ 100);\r\n    tireAction.play();\r\n    tireAction.paused = true;\r\n  }, [props.tireAnimTime])\r\n\r\n  applyProps(materials.CarMaincolor, { roughness: 0.1, metalness: 0.5, color: props.colorDetail, envMapIntensity: 1 });\r\n\r\n  useEffect(() => {\r\n    if(props.light) {\r\n      applyProps(materials.FlontLightGlass,  { color: 'white', roughness: 0, envMapIntensity: 100, metalness: 1 });\r\n    } else {\r\n      applyProps(materials.FlontLightGlass,  { color: 'black', roughness: 0, envMapIntensity: 2, metalness: 0 });\r\n    }\r\n  }, [props.light])\r\n\r\n  useMemo(() => {\r\n    Object.values(nodes).forEach((node) => node.isMesh && (node.receiveShadow = node.castShadow = true))\r\n    //applyProps(tire1.materials.tyre, { color: '#000', roughness: 0.3, roughnessMap: null, normalScale: [4, 4] })\r\n    applyProps(materials.GLASS, { color: '#fff', roughness: 0, clearcoat: 0.9 })\r\n    applyProps(materials.FlontLightGlass, { color: '#ffffe0', roughness: 0, clearcoat: 1 })\r\n    applyProps(materials.FrontLightWhite, { color: '#ff7f50', roughness: 0, clearcoat: 1, envMapIntensity: 1 })\r\n    applyProps(materials.BackLED, { color: 'red', roughness: 0, envMapIntensity: 1, metalness: 0 })\r\n    applyProps(materials.BackBlackGlass, { color: 'red', roughness: 0, clearcoat: 0.6 })\r\n    applyProps(materials.CarMaincolor, { roughness: 0.1, metalness: 0.5, color: props.carColor, envMapIntensity: 1 })\r\n  }, [nodes, materials])\r\n\r\n  return (\r\n    <PresentationControls\r\n      cursor\r\n      snap={false}\r\n    >\r\n      <primitive \r\n        object={scene} {...props}\r\n        dispose={null}\r\n        position={props.position}\r\n        rotation={props.rotation} \r\n        scale={[1, 1, 1]}\r\n        className='aaa'\r\n      >\r\n        {props.animation ? \r\n          <Html\r\n            transform\r\n            className=\"animationDot\"\r\n            zIndexRange={[100000000000000, 0]}\r\n            position={[1, 1.2, -0.75]}\r\n            rotation={[0, 1.5, 0]}\r\n            calculatePosition={[0, 0, 0]}\r\n            occlude\r\n            onClick={() => console.log('aa')}\r\n          >\r\n          </Html>\r\n        : undefined}\r\n      </primitive>\r\n      <primitive\r\n        object={ props.tire == 2 ? tire2.scene : tire1.scene} {...props}\r\n        dispose={null}\r\n        position={props.position}\r\n        rotation={props.rotation} \r\n        scale={[1, 1, 1]}\r\n      ></primitive>\r\n    </PresentationControls>\r\n  )\r\n}\r\n\r\nexport default Car;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}